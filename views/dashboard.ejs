<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Singapore IG Connect - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
</head>
<style>
    body {
        background-image: url('/image/dashboard_background.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 100vh;
        background-attachment: fixed;
    }

    .page-container {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .top-section {
        text-align: center;
        padding-top: 20px 0;
        font-family: 'Montserrat';
        position: fixed;
        top: 100px;
        left: 0;
        width: 100%;
    }

    .top-section h1 {
        font-size: 50px;
        margin: 0;
    }

    .card-section {
        flex: 1;
        margin-top: 350px;
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }

    .row {
        width: 100%;
        max-width: 1000px;
    }

    .bottom-section {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 40px;
    }

    .bottom-section a {
      font-family: 'Quicksand', sans-serif;
    }

    .card-img-top {
    height: 150px;
    object-fit: contain;
    border-bottom: 1px solid #ccc;
    background-color: #FFF8EC;
    }

    .scroll-container {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 20px;
        padding: 10px 0;
        scroll-behavior: smooth;
        width:820px;
        flex-wrap: nowrap;
    }

    .scroll-container::-webkit-scrollbar {
        height: 8px;
    }

    .scroll-container::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    .card {
        flex: 0 0 auto;
        width: 250px;
        height: 280px;
        border: none;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        text-align: center;
        background: #fff;
        transition: transform 0.2s ease;
    }

    .card a {
      font-family: 'Quicksand', sans-serif;
    }

    .card-title {
      font-family: 'Montserrat';
      font-weight: bold;
    }

    a {
      font-family: 'Quicksand', sans-serif;
    }
</style>

<body>

 <nav style="position: fixed; top: 0; width: 100%; background-color: transparent; padding: 15px 30px; z-index: 1000;">

    <style>
    nav a:hover {
      text-decoration: underline !important;
    }
    </style>

    <div style="display: flex; justify-content: space-between; align-items: center;">

    <div style="flex: 1; text-align: left;">
      <a href="/" style="color: black; font-size: 20px; font-family: 'Montserrat'; font-weight: bold; text-decoration: none;">
        Singapore IG Connect
      </a>
    </div>

    <div style="position: absolute; left: 50%; transform: translateX(-50%); display: flex; gap: 20px;">
        <a href="/interestgroups" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">Interest Groups</a>
        <a href="/members" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Members</a>
        <a href="/events" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Events</a>
        <a href="/schools" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">School Directory</a>
        <a href="/students" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">Student Profiles</a>
        <a href="/galleries" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Galleries</a>
    </div>

  </div>
</nav>
    
<div class="container page-container">
    <div class="top-section">
    <h1 class="fw-bold">Welcome, <%= user.username %> (<%= user.role %>)</h1>
    
    <p style="margin-top: 25px;">
      <a href="/announcements" style="font-size: 16px; text-decoration: underline; color: #007bff;">
        üì¢ View Announcements
      </a>
      <% if (user.role === 'admin') { %>
        |
        <a href="/announcements/new_announcement" style="font-size: 16px; text-decoration: underline; color: #28a745;">
          ‚ûï Post New Announcement
        </a>
      <% } %>
    </p>

    <% if (messages.length > 0) { %>
        <div class="alert alert-success mt-3"><%= messages[0] %></div>
    <% } %>
    </div>

    <!-- Middle Section (Card Rows) -->
<!-- Only one scroll container holding all cards -->
<div class="card-section d-flex align-items-center justify-content-center">
  <button id="prevBtn" class="btn btn-outline-dark me-2">‚Üê</button>

  <div class="scroll-container" id="cardScroll">
    <!-- All cards inside this one container -->

    <div class="card">
      <img src="/image/cards/m1_dashboard.png" class="card-img-top" alt="Interest Group Image">
      <div class="card-body">
        <h5 class="card-title">Interest Groups</h5>
        <a href="/interestgroups" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/interestgroups/add" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

    <div class="card">
      <img src="/image/cards/m2_dashboard.png" class="card-img-top" alt="IG Members Image">
      <div class="card-body">
        <h5 class="card-title">IG Members</h5>
        <a href="/members" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/members/addmember" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

    <div class="card">
      <img src="/image/cards/m3_dashboard.png" class="card-img-top" alt="IG Events Image">
      <div class="card-body">
        <h5 class="card-title">IG Events</h5>
        <a href="/events" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/events/new" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

    <div class="card">
      <img src="/image/cards/m4_dashboard.png" class="card-img-top" alt="School Directory Image">
      <div class="card-body">
        <h5 class="card-title">School Directory</h5>
        <a href="/schools" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/schools/addSchool" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

    <div class="card">
      <img src="/image/cards/m5_dashboard.png" class="card-img-top" alt="Student Profiles Image">
      <div class="card-body">
        <h5 class="card-title">Student Profiles</h5>
        <a href="/students" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/students/new" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

    <div class="card">
      <img src="/image/cards/m6_dashboard.png" class="card-img-top" alt="IG Galleries Image">
      <div class="card-body">
        <h5 class="card-title">IG Galleries</h5>
        <a href="/galleries" class="btn btn-primary btn-sm">View</a>
        <% if (user.role === 'admin') { %>
        <a href="/galleries/new" class="btn btn-success btn-sm">Add</a>
        <% } %>
      </div>
    </div>

  </div>

  <button id="nextBtn" class="btn btn-outline-dark ms-2">‚Üí</button>
</div>

    <div class="bottom-section">
        <a href="/logout" class="btn btn-secondary">Logout</a>
    </div>

<script>
  const scrollContainer = document.getElementById('cardScroll');
  const nextBtn = document.getElementById('nextBtn');
  const prevBtn = document.getElementById('prevBtn');

  const scrollAmount = 270; // 250px card + 20px gap

  nextBtn.addEventListener('click', () => {
    scrollContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
  });

  prevBtn.addEventListener('click', () => {
    scrollContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
  });
</script>

</body>
</html>
