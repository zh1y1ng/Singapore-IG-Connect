<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>School Directory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
</head>

<style>
  body {
    background-image: url('/image/schools_background.png');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
  }

  h2 {
    font-size: 50px;
    font-family: 'Montserrat';
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 28vh;
  }

  a {
    font-family: 'Quicksand', sans-serif;
  }
</style>

<body>

<nav style="position: fixed; top: 0; width: 100%; background-color: transparent; padding: 15px 30px; z-index: 1000;">

    <style>
    nav a:hover {
      text-decoration: underline !important;
    }
    </style>

    <div style="display: flex; justify-content: space-between; align-items: center;">

    <div style="flex: 1; text-align: left;">
      <a href="/" style="color: black; font-size: 20px; font-family: 'Montserrat'; font-weight: bold; text-decoration: none;">
        Singapore IG Connect
      </a>
    </div>

    <div style="position: absolute; left: 50%; transform: translateX(-50%); display: flex; gap: 20px;">
        <a href="/interestgroups" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">Interest Groups</a>
        <a href="/members" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Members</a>
        <a href="/events" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Events</a>
        <a href="/schools" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">School Directory</a>
        <a href="/students" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">Student Profiles</a>
        <a href="/galleries" style="color:#FE3E4D; text-decoration: none; font-weight: normal; font-size:15px;">IG Galleries</a>
    </div>

  </div>
</nav>



<%
function formatDateLocal(date) {
  const d = new Date(date);
  const year = d.getFullYear();
  const month = ('0' + (d.getMonth() + 1)).slice(-2);
  const day = ('0' + d.getDate()).slice(-2);
  return year + '-' + month + '-' + day;
}
%>
 
<div class="bg-fullpage" style="background-image: url('/image/gallery_background.png')"></div>
 
<div class="container content-wrapper" style="max-width: 600px; font-family: 'Quicksand', sans-serif;">
<h2 class="mb-4" style="color: black"><%= gallery ? 'Edit Gallery Item' : 'Add New Gallery Item' %></h2>
 
  <form action="<%= gallery ? '/galleries/' + gallery.id : '/galleries' %>" method="POST" novalidate>
<div class="mb-3">
<label for="ig_id" style="color: black; font-weight: bold;" class="form-label">Instagram Post ID</label>
<input
        type="text"
        class="form-control"
        id="ig_id"
        name="ig_id"
        value="<%= gallery ? gallery.ig_id : '' %>"
        required
>
</div>
 
    <div class="mb-3">
<label for="media_url" style="color: black; font-weight: bold;" class="form-label">Media URL</label>
<input
        type="url"
        class="form-control"
        id="media_url"
        name="media_url"
        value="<%= gallery ? gallery.media_url : '' %>"
        required
>
</div>
 
    <% if (gallery && gallery.media_url) { %>
<div class="mb-3">
<label class="form-label" style="color: black">Current Media Preview</label><br>
<img src="<%= gallery.media_url %>" alt="Media Preview" class="img-thumbnail mb-2" style="max-width: 150px;">
</div>
<% } %>
 
    <div class="mb-3">
<label for="caption" style="color: black; font-weight: bold;" class="form-label">Caption</label>
<textarea
        class="form-control"
        id="caption"
        name="caption"
        rows="3"
        required
><%= gallery ? gallery.caption : '' %></textarea>
</div>
 
    <div class="mb-3">
<label for="upload_date" style="color: black; font-weight: bold;" class="form-label">Upload Date</label>
<input
        type="date"
        class="form-control"
        id="upload_date"
        name="upload_date"
        value="<%= gallery ? gallery.upload_date.toISOString().split('T')[0] : '' %>"
        required
>
</div>
 
    <button type="submit" class="btn btn-primary me-2"><%= gallery ? 'Update' : 'Add' %></button>
<a href="/galleries" class="btn btn-secondary">Cancel</a>
</form>
</div>
 
<%- include('../partials/footer') %>